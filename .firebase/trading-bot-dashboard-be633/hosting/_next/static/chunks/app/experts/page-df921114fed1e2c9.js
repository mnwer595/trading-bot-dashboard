(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[916],{1953:(e,n,s)=>{Promise.resolve().then(s.bind(s,3223))},3223:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>o});var t=s(5155),a=s(2115),l=s(6874),i=s.n(l);let r="https://198.23.206.54",c="".concat(r,"/getexperts"),d="".concat(r,"/saveexperts");function o(){let[e,n]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[r,o]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),[x,b]=(0,a.useState)(null),[g,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{p()},[]);let p=async()=>{l(!0),u(null);try{let e=await fetch(c);if(!e.ok)throw Error("Failed to fetch experts");let s=await e.json();n(s)}catch(e){u(e.message||"Unknown error")}finally{l(!1)}},f=async e=>{o(!0),b(null),u(null);try{if(!(await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save experts");b("Experts saved successfully!"),setTimeout(()=>b(null),3e3)}catch(e){u(e.message||"Failed to save experts")}finally{o(!1)}},j=async(s,t,a)=>{let l=e.map(e=>e.name===s?{...e,[t]:a}:e);n(l),await f(l)},N=e=>{let{checked:n,onChange:s,label:a}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("label",{className:"font-medium text-sm",children:[a,":"]}),(0,t.jsx)("button",{className:"w-10 h-5 rounded-full flex items-center transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(n?"bg-blue-600":"bg-zinc-300 dark:bg-zinc-700"),onClick:()=>s(!n),"aria-label":"Toggle ".concat(a),tabIndex:0,children:(0,t.jsx)("span",{className:"inline-block w-4 h-4 rounded-full bg-white shadow transform transition-transform ".concat(n?"translate-x-5":"translate-x-0.5")})})]})};return(0,t.jsx)("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 p-4",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Expert Settings"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i(),{href:"/",className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Back to Settings"}),(0,t.jsx)("button",{onClick:p,disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Loading...":"Refresh"})]})]}),s&&(0,t.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,t.jsx)("span",{className:"text-lg",children:"Loading experts..."})}),m&&(0,t.jsxs)("div",{className:"bg-red-100 text-red-700 p-4 rounded mb-4 text-center",children:["Error: ",m]}),x&&(0,t.jsx)("div",{className:"bg-green-100 text-green-700 p-4 rounded mb-4 text-center",children:x}),r&&(0,t.jsx)("div",{className:"bg-blue-100 text-blue-700 p-4 rounded mb-4 text-center",children:"Saving changes..."}),e.length>0&&(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-zinc-50 dark:bg-zinc-800 p-4 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-zinc-600 dark:text-zinc-400",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.enabled?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"),children:e.enabled?"Active":"Inactive"}),(0,t.jsxs)("span",{className:"font-mono",children:["Lot: ",e.lot_size]}),(0,t.jsxs)("span",{className:"font-mono",children:["Last: ",e.last_signal]})]})]})}),(0,t.jsx)("button",{className:"px-3 py-1 rounded text-sm font-medium bg-blue-100 text-blue-700 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 transition-colors",onClick:()=>h(g===e.name?null:e.name),"aria-expanded":g===e.name,"aria-controls":"expert-settings-".concat(e.name),tabIndex:0,children:g===e.name?"Hide Settings":"Show Settings"})]}),g===e.name&&(0,t.jsx)("div",{id:"expert-settings-".concat(e.name),className:"p-4 bg-white dark:bg-zinc-900 border-t border-zinc-200 dark:border-zinc-700",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Basic Settings"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-medium text-sm mb-1",children:"Lot Size:"}),(0,t.jsx)("input",{type:"number",value:e.lot_size,onChange:n=>j(e.name,"lot_size",Number(n.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0.01"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-medium text-sm mb-1",children:"Volume Keep:"}),(0,t.jsx)("input",{type:"number",value:e.volume_keep,onChange:n=>j(e.name,"volume_keep",Number(n.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),(0,t.jsx)(N,{checked:e.enabled,onChange:n=>j(e.name,"enabled",n),label:"Enabled"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-600 dark:text-green-400",children:"Trading Options"}),(0,t.jsx)(N,{checked:e["multi-actions"],onChange:n=>j(e.name,"multi-actions",n),label:"Multi Actions"}),(0,t.jsx)(N,{checked:e["multi-tp"],onChange:n=>j(e.name,"multi-tp",n),label:"Multi TP"}),(0,t.jsx)(N,{checked:e.buy_only,onChange:n=>j(e.name,"buy_only",n),label:"Buy Only"}),(0,t.jsx)(N,{checked:e.tp_enabled,onChange:n=>j(e.name,"tp_enabled",n),label:"TP Enabled"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Signal Settings"}),(0,t.jsx)(N,{checked:e.signal_in_same_direction,onChange:n=>j(e.name,"signal_in_same_direction",n),label:"Same Direction"}),void 0!==e.tp_when_in_profit&&(0,t.jsx)(N,{checked:e.tp_when_in_profit,onChange:n=>j(e.name,"tp_when_in_profit",n),label:"TP When Profit"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-medium text-sm mb-1",children:"Last Signal:"}),(0,t.jsxs)("select",{value:e.last_signal,onChange:n=>j(e.name,"last_signal",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"buy",children:"Buy"}),(0,t.jsx)("option",{value:"sell",children:"Sell"})]})]})]})]})})]},e.name))}),!s&&0===e.length&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No experts found."})})]})})}}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=1953)),_N_E=e.O()}]);